<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Color Picker</title>
    <style>
      body{
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>
  <body>

    <div id="root"></div>

  </body>

  <script src="https://www.unpkg.com/react@18.2.0/umd/react.development.js"></script>
  <script src="https://www.unpkg.com/react-dom@18.2.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <script type="text/babel">
    function ColorPicker() {
      //using useState Hook so it will update the value simulteniously when the user gives an input
      let [color, setColor] = React.useState("#fa9af7")
      let [error, setError] = React.useState("")



      function handleChange(e) {
        
        let value = e.target.value

        setColor(value)

        // using Regex Filter to see if the HEX color code is correct or not
        if (/^#([A-Fa-f0-9]{6})|[A-Fa-f0-9]{3}$/.test(value)){
          setColor(value)
          setError("")
        }
        else{
          setError("Invalid Color Code")
        }
      }

      return (
        <div>
          <input
            type= "text"
            value= {color}
            onChange={handleChange}
            style={{ margin: "10px", padding: "2px", width:"200px"}}
          />
          <p
          style={{
            color: "red",
            margin: "10px",
            padding: "2px",
            width:"200px"
          }}
          >
            {error}
            </p>
          <div
            style={{
              margin: "10px",
              width: "207px",
              height: "100px",
              backgroundColor: color,
            }}
          ></div>
        </div>
      )
    }

    let rootEle = document.getElementById("root")
    ReactDOM.createRoot(rootEle).render(<ColorPicker/>)
  </script>
</html>
